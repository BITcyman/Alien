# Target

项目重构计划

## 物理内存管理

- [ ] 实现伙伴系统管理物理页
- [ ] 规范位图分配器的实现和接口
- [ ] 调整slab系统的分配大小，最大只分配2MB大小的内存
- [ ] 设计实现类似`vmalloc`的内核内存分配接口，2MB-4MB大小由伙伴系统直接分配，4MB大小大小以上的从虚拟地址空间分配

## 虚拟内存管理

- [ ] 重构 `page-table` 的实现，规范接口
- [ ] 添加内核缺页异常处理，支持内核中大内存分配



## 锁

- [ ] 规范互斥锁和睡眠锁的实现
- [ ] 考虑是否需要关中断
- [ ] 考虑多核上的锁与单核的差异



## 中断处理

- [ ] 处理多核上的外部中断事件，比如串口



## 进程/线程管理

- [ ] 添加合适的数据结构并修改相关方法，在进程已有的抽象上添加线程抽象，需要保证两者使用同一个数据结构，参考linux系统与另一个同学实现的`Maturn`
- [ ] 添加多核调度的支持



## 文件系统

- [ ] 修复已知错误
  - [ ] `readdir`函数
  - [ ] `mount`
- [ ] 实现`devfs`
